var errl=errl||{};!function(r,e){"use strict";var n="http",o="errl.hoomanlogic.com",t=(function(){var r,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(r=/\brv[ :]+(\d+)/g.exec(e)||[],"IE "+(r[1]||"")):"Chrome"===n[1]&&(r=e.match(/\bOPR\/(\d+)/),null!=r)?"Opera "+r[1]:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(r=e.match(/version\/(\d+)/i))&&n.splice(1,1,r[1]),n.join(" "))}(),function(r){var e=/\((.*?):(\d+):(\d+)\)/g;return e.exec(r)}),a=function(){var e={};r.config.getState&&(e=r.config.getState()),e.browser=r.browser,e.platform=navigator.platform,e.cookieEnabled=navigator.cookieEnabled,e.language=navigator.language;var n=Array.prototype.slice.call(navigator.plugins);e.plugins=[];for(var o=0;o<n.length;o++)e.plugins.push(n[o].name);return e},i=function(){var e="$anonymous";return r.config.getUser&&(e=r.config.getUser()),e};r.getErrorDetailUrl=function(r){return n+"://"+o+"/errordetail?developer="+encodeURIComponent(errl.config.developer)+"&product="+encodeURIComponent(errl.config.product)+"&user="+encodeURIComponent(errl.config.getUser())+"&error="+encodeURIComponent(r)};var s=function(){return r.config.host||n+"://"+o};r.log=function(){if(!r.config)throw new Error("Errl has not been configured");if(!arguments[0]||arguments[0].length<5)throw new Error("Errl log function was passed unexpected number of arguments");var n={message:arguments[0][0],url:[0][1],lineNumber:arguments[0][2],columnNumber:arguments[0][3],error:arguments[0][4]},o=a(),c=i();n.url&&""!==n.url.trim()||(n.url=t(n.error.stack)[1]);var g,u,l,f,m,p;g=n.error.name,u=n.error.message,l=n.url.split("/"),f=l.slice(3).join("/"),m=n.lineNumber,p=n.error.stack,e.ajax({context:this,url:s()+"/api/logerror",crossDomain:!0,dataType:"json",type:"POST",contentType:"application/json",data:JSON.stringify({key:r.config.key,productName:r.config.product,environment:r.config.environment,version:r.config.version,errorType:g,errorDescription:u,objectName:f,subName:m,details:JSON.stringify(n),stackTrace:p,state:JSON.stringify(o),userId:c})}).done(function(e){var n={errorId:e,errorMessage:u};r.config.onLogged(n),errl.latestError=n}).fail(function(r,e){console.error(r.responseText||e,"ErrL")})}}(errl,$),window.onerror=function(){errl.log(arguments)};